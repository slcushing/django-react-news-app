(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{31:function(e,t,a){},33:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(20),r=a.n(s),i=(a(30),a(31),a(2)),l=a(3),o=a.n(l),j=a(7),b=a(8),d=a(6),u=(a(33),a(24)),h=a(5),m=a(25),O=a(0),p=["isAuth"];var x=function(e){var t=e.isAuth,a=Object(m.a)(e,p);return t?Object(O.jsx)(d.b,Object(h.a)({},a)):Object(O.jsx)(d.a,{to:"/login"})},f=a(10);var v=function(e){var t;return Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",id:"header-nav",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("a",{className:"navbar-brand",href:"/",children:"Thoughtful Co."}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("span",{className:"navbar-toggler-icon"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarResponsive",children:Object(O.jsxs)("ul",(t={className:"navbar-nav ml-auto"},Object(f.a)(t,"className","container d-flex justify-content-end"),Object(f.a)(t,"id","main-nav"),Object(f.a)(t,"children",[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/",children:" Home "})}),!e.isAuth&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/login",children:" Login "})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/registration",children:" Register "})})]}),e.isAuth&&!e.isAdmin&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/create",children:" Submit Article "})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/myarticles",children:"My Articles"})})]}),e.isAdmin&&Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/admin",children:"Admin"})}),e.isAuth&&Object(O.jsx)("button",{type:"submit",className:"logout",onClick:function(){return e.handleLogout()},children:"Logout"})]),t))})]})})},g=a(9),y=a.n(g);var N=Object(d.i)((function(e){var t=Object(n.useState)({username:"",email:"",password1:"",password2:""}),a=Object(b.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(null),i=Object(b.a)(r,2),l=(i[0],i[1]);function u(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(f.a)({},a,n))}))}function m(e){console.warn(e)}function p(){return(p=Object(j.a)(o.a.mark((function t(a){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),c.password1===c.password2){t.next=5;break}l("Passwords do not match."),t.next=19;break;case 5:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSFRToken":y.a.get("csrftoken")},body:JSON.stringify(c)},t.next=8,fetch("/rest-auth/registration/",n).catch(m);case 8:if(s=t.sent){t.next=13;break}console.log(s),t.next=19;break;case 13:return t.next=15,s.json();case 15:r=t.sent,y.a.set("Authorization","Token ".concat(r.key)),e.setIsAuth(!0),e.history.push("/");case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(O.jsx)(d.a,{to:"/"}):Object(O.jsxs)("form",{className:"mt-3 col-4 offset-lg-4 register-form",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter Username",onChange:u,required:!0,name:"username",value:c.username})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter Email",onChange:u,required:!0,name:"email",value:c.email})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"password1",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password1",placeholder:"Enter Password",onChange:u,required:!0,name:"password1",value:c.password1})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password2",placeholder:"Confirm Password",onChange:u,required:!0,name:"password2",value:c.password2})]}),Object(O.jsx)("button",{type:"submit",className:"btn mt-3",id:"register-button",children:"Register"})]})}));var w=Object(d.i)((function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(b.a)(t,2),c=a[0],s=a[1];function r(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(f.a)({},a,n))}))}function i(e){console.warn(e)}function l(){return(l=Object(j.a)(o.a.mark((function t(a){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":y.a.get("csrftoken")},body:JSON.stringify(c)},t.next=4,fetch("/rest-auth/login/",n).catch(i);case 4:if(s=t.sent){t.next=9;break}console.log(s),t.next=15;break;case 9:return t.next=11,s.json();case 11:r=t.sent,y.a.set("Authorization","Token ".concat(r.key)),e.setUser((function(e){return Object(h.a)(Object(h.a)({},e),{},{isAuth:!0})})),e.history.push("/articles/myarticles/");case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(O.jsx)(d.a,{to:"/"}):Object(O.jsxs)("form",{className:"mt-3 col-4 offset-lg-4 login-form",onSubmit:function(e){return l.apply(this,arguments)},children:[Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter username",onChange:r,required:!0,name:"username",value:c.username})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:r,required:!0,name:"password",value:c.password})]}),Object(O.jsx)("button",{type:"submit",className:"btn",id:"login-button",children:"Login"})]})}));var k=Object(d.i)((function(e){var t=Object(n.useState)({image:null,title:"",body:"",category:""}),a=Object(b.a)(t,2),c=a[0],s=a[1],r=function(e){var t=e.target,a=t.name,n=t.value;s(Object(h.a)(Object(h.a)({},c),{},Object(f.a)({},a,n)))};function i(e){console.warn(e)}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(j.a)(o.a.mark((function t(a){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("image",c.image),n.append("title",c.title),n.append("body",c.body),n.append("category",c.category),n.append("status",a.target.value),s={method:"POST",headers:{"X-CSRFToken":y.a.get("csrftoken")},body:n},t.next=10,fetch("/api_v1/articles/",s).catch(i);case 10:if(r=t.sent){t.next=15;break}console.log(r),t.next=19;break;case 15:return t.next=17,r.json();case 17:t.sent,e.history.push("/api_v1/articles/");case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(O.jsxs)("form",{className:"mt-3 col-4 offset-lg-4 article-form",children:[Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"image",children:"Image"}),Object(O.jsx)("input",{type:"file",name:"image",onChange:function(e){var t=e.target.files[0];s(Object(h.a)(Object(h.a)({},c),{},{image:t})),(new FileReader).readAsDataURL(t)}})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"title",children:"Title"}),Object(O.jsx)("input",{type:"text",name:"title",value:c.title,onChange:r})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-4",id:"article-text",children:[Object(O.jsx)("label",{htmlFor:"body",children:"Body"}),Object(O.jsx)("textarea",{type:"text",name:"body",value:c.body,onChange:r})]}),Object(O.jsxs)("select",{onChange:r,name:"category",value:c.category,children:[Object(O.jsx)("option",{children:"Open this select menu"}),Object(O.jsx)("option",{value:"NEWS",children:"News"}),Object(O.jsx)("option",{value:"HLTH",children:"Health"}),Object(O.jsx)("option",{value:"SPRT",children:"Sports"}),Object(O.jsx)("option",{value:"TECH",children:"Tech"}),Object(O.jsx)("option",{value:"OPIN",children:"Opinion"})]}),Object(O.jsxs)("div",{className:"form-group mt-2",children:[Object(O.jsx)("button",{type:"submit",value:"DFT",id:"draft-save",onClick:l,children:"Save as Draft"}),Object(O.jsx)("button",{type:"submit",value:"SUBM",id:"submit-draft",onClick:l,children:"Submit for Review"})]})]})}));var S=Object(d.i)((function(e){var t,a=Object(n.useState)(!1),c=Object(b.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(Object(h.a)({},e)),l=Object(b.a)(i,2),d=l[0],u=l[1],m=function(e){var t=e.target,a=t.name,n=t.value;u(Object(h.a)(Object(h.a)({},d),{},Object(f.a)({},a,n)))};function p(e){console.warn(e)}function x(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(o.a.mark((function t(a){var n,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=new FormData,d.image instanceof File&&n.append("image",d.image),n.append("title",d.title),n.append("body",d.body),n.append("category",d.category),n.append("status",a.target.value),c={method:"PUT",headers:{"X-CSRFToken":y.a.get("csrftoken")},body:n},t.next=10,fetch("/api_v1/articles/".concat(e.id,"/"),c).catch(p);case 10:if(s=t.sent){t.next=15;break}console.log(s),t.next=19;break;case 15:return t.next=17,s.json();case 17:t.sent,e.history.push("/");case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return t=s?Object(O.jsxs)("form",{className:"mt-3 col-12 article-form",children:[Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"image",children:"Image"}),Object(O.jsx)("input",{type:"file",name:"image",onChange:function(e){var t=e.target.files[0];u(Object(h.a)(Object(h.a)({},d),{},{image:t})),(new FileReader).readAsDataURL(t)}})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(O.jsx)("label",{htmlFor:"title",children:"Title"}),Object(O.jsx)("input",{type:"text",name:"title",value:d.title,onChange:m})]}),Object(O.jsxs)("div",{className:"form-group text-left mb-4",id:"article-text",children:[Object(O.jsx)("label",{htmlFor:"body",children:"Body"}),Object(O.jsx)("textarea",{type:"text",name:"body",value:d.body,onChange:m})]}),Object(O.jsxs)("select",{onChange:m,name:"category",value:d.category,children:[Object(O.jsx)("option",{children:"Open this select menu"}),Object(O.jsx)("option",{value:"NEWS",children:"News"}),Object(O.jsx)("option",{value:"HLTH",children:"Health"}),Object(O.jsx)("option",{value:"SPRT",children:"Sports"}),Object(O.jsx)("option",{value:"TECH",children:"Tech"}),Object(O.jsx)("option",{value:"OPIN",children:"Opinion"})]}),Object(O.jsx)("button",{type:"submit",onClick:x,value:"DFT",id:"edit-button",children:"Save as Draft"}),Object(O.jsx)("button",{type:"submit",onClick:x,value:"SUBM",id:"edit-button",children:"Save and Submit for Review"})]}):Object(O.jsxs)("div",{className:"my-article",children:[Object(O.jsx)("img",{className:"fit-picture",src:d.image,alt:""}),Object(O.jsx)("h3",{children:d.title}),Object(O.jsx)("p",{children:d.body}),Object(O.jsxs)("p",{children:["Status: ",d.status]}),"DFT"===d.status&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{type:"button",onClick:function(){return r(!0)},children:"Edit"}),Object(O.jsx)("button",{type:"submit",onClick:x,value:"SUBM",children:"Submit for Review"})]})]}),Object(O.jsx)(O.Fragment,{children:t})}));var T=Object(d.i)((function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],s=a[1],r=Object(d.h)(),l={draft:"DFT",submitted:"SUBM",published:"PUBL",rejected:"REJ"};Object(n.useEffect)((function(){var t=e.match.params.status,a="/api_v1/articles/?status=ALL";function n(){return(n=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&(a="/api_v1/articles/?status=".concat(l[t])),function(){n.apply(this,arguments)}()}),[r]);var u=c.map((function(e){return Object(O.jsx)(S,Object(h.a)({},e),e.id)}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(O.jsx)("div",{className:"container d-flex justify-content-center",children:Object(O.jsxs)("ul",{className:"navbar-nav",id:"secondary-nav",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/myarticles/",children:"ALL"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/myarticles/draft",children:"DRAFT"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/myarticles/submitted",children:"SUBMITTED"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/myarticles/published",children:"PUBLISHED"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/myarticles/rejected",children:"REJECTED"})})]})})}),Object(O.jsx)("section",{className:"container d-flex justify-content-center my-article-section",children:u})]})}));var C=Object(d.i)((function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],s=a[1],r=Object(d.h)(),l={news:"NEWS",health:"HLTH",sports:"SPRT",tech:"TECH",opinion:"OPIN"};Object(n.useEffect)((function(){var t=e.match.params.category,a="/api_v1/articles/";function n(){return(n=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("articles",n),s(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&(a="/api_v1/articles/?category=".concat(l[t])),function(){n.apply(this,arguments)}()}),[r]);var u=c.map((function(e){return Object(O.jsxs)("div",{className:"article",children:[Object(O.jsx)("img",{className:"fit-picture",src:e.image,alt:""}),Object(O.jsx)("h3",{children:e.title}),Object(O.jsxs)("p",{className:"author",children:["Written by: ",e.username]}),Object(O.jsx)("p",{children:e.body})]},e.id)}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("header",{className:"home-header",children:"Thoughtful News Co."}),Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",id:"secondary-full-bar",children:Object(O.jsx)("div",{className:"container d-flex justify-content-center",children:Object(O.jsxs)("ul",{className:"navbar-nav",id:"secondary-nav",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/news",children:"News"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/health",children:"Health"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/sports",children:"Sports"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/tech",children:"Tech"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/opinion",children:"Opinion"})})]})})}),Object(O.jsxs)("div",{className:"main-body",children:[Object(O.jsx)("section",{className:"article-section",children:u}),Object(O.jsxs)("aside",{className:"home-aside",children:[Object(O.jsx)("h4",{children:"Want to join our community?"}),Object(O.jsx)("div",{children:Object(O.jsx)(i.b,{to:"/registration",children:"REGISTER HERE"})}),Object(O.jsx)("h4",{children:"Thoughtful News Fueled By: "}),Object(O.jsx)("img",{src:"media/IMG_4844.jpeg",alt:"coffee"}),Object(O.jsx)("div",{children:Object(O.jsx)("a",{href:"https://www.deathwishcoffee.com/",target:"_blank",rel:"noreferrer noopener",children:"Death Wish Coffee Co."})}),Object(O.jsx)("img",{src:"media/doggos.jpeg",alt:"dogs"}),Object(O.jsx)("div",{children:Object(O.jsx)("a",{href:"https://www.greenvillehumane.com/",target:"_blank",rel:"noreferrer noopener",children:"Doggos"})}),Object(O.jsx)("img",{src:"media/chicken-nuggets.jpeg",alt:"Chicken Nuggets"}),Object(O.jsx)("div",{children:Object(O.jsx)("a",{href:"https://www.mcdonalds.com/us/en-us/product/chicken-mcnuggets-4-piece.html",target:"_blank",rel:"noreferrer noopener",children:"Chickie Nuggies"})}),Object(O.jsx)("img",{src:"media/beer.jpeg",alt:"Beer"}),Object(O.jsx)("div",{children:Object(O.jsx)("a",{href:"https://www.gratefulbrewgvl.com/",target:"_blank",rel:"noreferrer noopener",children:"Beer"})}),Object(O.jsx)("img",{src:"media/TedLasso2.jpeg",alt:"Ted Lasso"}),Object(O.jsx)("div",{children:Object(O.jsx)("a",{href:"https://tv.apple.com/us/show/ted-lasso/umc.cmc.vtoh0mn0xn7t3c643xqonfzy",target:"_blank",rel:"noreferrer noopener",children:"Ted Lasso"})})]})]}),Object(O.jsx)("footer",{children:"\xa9 Carolina Code School - Cohort10"})]})}));var F=Object(d.i)((function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],s=a[1],r=Object(d.h)(),l={submitted:"SUBM",published:"PUBL",rejected:"REJ"};function u(e){return h.apply(this,arguments)}function h(){return h=Object(j.a)(o.a.mark((function e(t){var a,n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.value,n=t.target.dataset.id,c={method:"PUT",headers:{"X-CSRFToken":y.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify({status:a})},e.next=6,fetch("/api_v1/articles/admin/".concat(n,"/"),c);case 6:if(s=e.sent){e.next=11;break}console.log(s),e.next=14;break;case 11:return e.next=13,s.json();case 13:e.sent;case 14:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}Object(n.useEffect)((function(){var t=e.match.params.status,a="/api_v1/articles/admin/?status=ALL";function n(){return(n=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&(a="/api_v1/articles/admin/?status=".concat(l[t])),function(){n.apply(this,arguments)}()}),[r]);var m=c.map((function(e){return Object(O.jsxs)("div",{className:"admin-article",children:[Object(O.jsx)("img",{className:"fit-picture",src:e.image,alt:""}),Object(O.jsx)("h3",{children:e.title}),Object(O.jsxs)("p",{children:["Author: ",e.username]}),Object(O.jsx)("p",{children:e.body}),Object(O.jsx)("p",{children:e.status}),Object(O.jsx)("button",{type:"button","data-id":e.id,className:"btn btn-success mx-1",name:"SUBM",value:"PUBL",onClick:u,children:" Publish "}),Object(O.jsx)("button",{type:"button","data-id":e.id,className:"btn btn-danger mx-1",name:"SUBM",value:"REJ",onClick:u,children:" Reject "})]},e.id)}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(O.jsx)("div",{className:"container d-flex justify-content-center",children:Object(O.jsxs)("ul",{className:"navbar-nav",id:"secondary-nav",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/admin/",children:"ALL"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/admin/submitted",children:"SUBMITTED"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/admin/published",children:"PUBLISHED"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{to:"/articles/admin/rejected",children:"REJECTED"})})]})})}),Object(O.jsx)("section",{className:"admin-article-section container d-flex justify-content-center",children:m})]})}));var A=Object(d.i)((function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],c=t[1],s=Object(d.g)();function r(){return(r=Object(j.a)(o.a.mark((function e(t,n){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":y.a.get("csrftoken")},body:JSON.stringify(a)},e.next=3,fetch("/rest-auth/logout/",r);case 3:if(i=e.sent){e.next=8;break}console.log(i),e.next=15;break;case 8:return console.log(i),e.next=11,i.json();case 11:e.sent,y.a.remove("Authorization"),c({isAuth:!1}),s.push("/");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user/");case 2:if((t=e.sent).ok){e.next=7;break}c({isAuth:!1}),e.next=11;break;case 7:return e.next=9,t.json();case 9:a=e.sent,c({isAuth:!0,isAdmin:a.is_staff});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]),null===a)return Object(O.jsx)(u.a,{animation:"grow",variant:"primary"});var i=null===a||void 0===a?void 0:a.isAuth,l=null===a||void 0===a?void 0:a.isAdmin;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{isAuth:i,isAdmin:l,handleLogout:function(e,t){return r.apply(this,arguments)}}),Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/registration",children:Object(O.jsx)(N,{isAuth:i,setUser:c})}),Object(O.jsx)(d.b,{path:"/login",children:Object(O.jsx)(w,{isAuth:i,setUser:c})}),Object(O.jsx)(x,{path:"/articles/create",isAuth:i,children:Object(O.jsx)(k,{})}),Object(O.jsx)(x,{path:"/articles/myarticles/:status?",isAuth:i,children:Object(O.jsx)(T,{})}),Object(O.jsx)(d.b,{path:"/articles/admin/:status?",isAdmin:l,children:Object(O.jsx)(F,{})}),Object(O.jsx)(d.b,{path:"/:category?",children:Object(O.jsx)(C,{})})]})]})})),E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(A,{})})}),document.getElementById("root")),E()}},[[40,1,2]]]);
//# sourceMappingURL=main.91ba7aeb.chunk.js.map